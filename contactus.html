
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="..."
  />
  <link
    href="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/css/swiffy-slider.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav  class="navbar navbar-expand-lg  py-3 fixed-top ">
      <div class="container-fluid container">
          <a class="navbar-brand lgo " href="index.html">
              <img src="./images/umsal.png" alt="Logo" width="50" height="50" class="d-inline-block align-text-top ">
              UMSA
            </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarNavDropdown">
          <ul class="navbar-nav justify-content-center w-100 gap-2">
            <li class="nav-item">
              <a class="nav-link "  href="index.html">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle aut_menu4" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Posts
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item ndropdown-item" href="allposts.html">Posts</a></li>
                <li><a class="dropdown-item ndropdown-item" href="allEvent.html">Upcoming Events</a></li>
                <li><a class="dropdown-item ndropdown-item" href="allNotice.html">Notice</a></li>
              </ul>
            </li>
            <li class="nav-item ">
              <a class="nav-link aut_menu3" href="transaction.html">Donate</a>
            </li>
            <li class="nav-item">
              <a class="nav-link aut_menu2" href="blood.html">Blood</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle bg-secondary" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                About Us
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item ndropdown-item" href="contactus.html">About Us</a></li>
                <li><a class="dropdown-item ndropdown-item" href="service.html">Services</a></li>
                <li><a class="dropdown-item ndropdown-item  bg-secondary" href="contactus.html">Contact Us</a></li>
              </ul>
            </li>
            <li class="nav-item ">
              <a class="nav-link aut_menu1" href="people.html">Members</a>
            </li>
            <li class="nav-item">
              <a class="nav-link aut_menu" href="account.html">Exchequer</a>
            </li>
          </ul>  
          <ul  class=" navbar-nav ms-auto gap-2">
              <li class="nav-item">
                  <a class="nav-link sign-menu" href="registration.html">Sign_Up</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link login-menu" href="login.html">Login</a>
              </li>
              <li class="nav-item">
                  <a class=" nav-link profile-menu d-none" href="profile.html">Profile</a>
              </li>
              <li class="nav-item ">
                  <a class="nav-link logout-menu d-none" onclick="handlelogOut()" href="#" >Logout</a>
              </li>
          </ul>
        </div>
        
      </div>
    </nav>
    <div style="padding-top: 130px;" class="banner-container container">
      <div class="banner row">
        <div class="banner-left col-lg-5 col-md-5">
          <h1>Providing Quality<br />Flowers World</h1>
          <p class="w-50 m-auto">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris at
            nunc feugiat, pretium quam malesuada, luctus ex. Duis eu dui
            rhoncus, faucibus diam ac, iaculis urna. Phasellus pellentesque
            dui in suscipit eleifend.
          </p>
        </div>
        <div class="banner-img col-lg-7 col-md-7">
          <img class="bn-img img-fluid py-2" src="./Images/contact.jpg" alt="" />
        </div>
      </div>
    </div>
  </header>

  <div style="margin-top: 0px;" class="login-container container">
    <div class="col-md-7">
      <h1 class="title mt-5">Please write to us</h1>
      <form id="contact-form" onsubmit="handleContact(event)">
        <p id="error" class="text-danger"></p>
        <input id="name" type="text" class="form-control mb-3" placeholder="Name" required />
        <input
          id="phone"
          type="text"
          class="form-control mb-3"
          placeholder="Phone"
          pattern="[0-9]{11}"
          title="Enter a valid 11-digit phone number"
          required
        />
        <textarea id="address" class="form-control mb-3" placeholder="Address" rows="4" required></textarea>
        <textarea id="content" class="form-control mb-3" placeholder="Message" rows="4" required></textarea>
        <input type="submit" class="btn btn-primary" value="Submit" />
      </form>
    </div>
    <div class="col-md-5">
      <img class="w-50 h-50" src="./Images/login.png" alt="" />
    </div>
  </div>

  <script>
    // Function to get the value of an input field by its ID
    const getValue = (id) => document.getElementById(id).value;

    // Function to handle the contact form submission
    const handleContact = (event) => {
      event.preventDefault(); // Prevent default form submission

      const name = getValue("name");
      const phone = getValue("phone");
      const address = getValue("address");
      const content = getValue("content");

      if (!name || !phone || !address || !content) {
        document.getElementById("error").innerText = "All fields are required!";
        return;
      }

      const info = { name, phone, address, content };

      // Send form data to the server
      fetch("http://127.0.0.1:8000/contact_us/", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(info),
      })
        .then((response) => {
          if (!response.ok) {
            throw new Error("Failed to submit the form. Please try again.");
          }
          return response.json();
        })
        .then((data) => {
          console.log(data); // Log the server's response
          alert("Contact form submitted successfully!");
          document.querySelector("form").reset(); // Reset form fields
          document.getElementById("error").innerText = ""; // Clear error message
        })
        .catch((error) => {
          console.error(error);
          document.getElementById("error").innerText =
            "An error occurred. Please try again.";
        });
    };
  </script>

  <!-- <script
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"
    integrity="sha512-pMNxjrrUOMvcmfwE6S8wroAWXZcllEYcBLf1m5SvI8BG+LKyHNDsnrtXZAbYaIQX9+R29FQqkCn+jrBLYBdksA=="
    crossorigin="anonymous"
  ></script> -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/js/swiffy-slider.min.js"
    crossorigin="anonymous"
    defer
  ></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="./logout.js"></script>
<script src="./index.js"></script>
</body>
</html>
